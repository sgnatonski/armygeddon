"use strict";function load(e){if(!e)return Promise.reject();if("string"==typeof e){var r=e;(e=new Image).src=r}else{if(void 0!==e.length){var t=[].map.call(e,function(e){return load(e).catch(function(e){return e})});return Promise.all(t).then(function(e){var r=e.filter(function(e){return e.naturalWidth});return r.length===e.length?r:Promise.reject({loaded:r,errored:e.filter(function(e){return!e.naturalWidth})})})}if("IMG"!==e.tagName)return Promise.reject()}var n=new Promise(function(r,t){function n(){e.naturalWidth?r(e):t(e),e.removeEventListener("load",n),e.removeEventListener("error",n)}e.naturalWidth?r(e):e.complete?t(e):(e.addEventListener("load",n),e.addEventListener("error",n))});return n.image=e,n}module.exports=load;